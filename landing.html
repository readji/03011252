<script>
    function loadLandingPage() {
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id");

        const landingData = JSON.parse(localStorage.getItem("landingPages")) || [];
        const page = landingData.find(p => p.id === id);

        if (page) {
            console.log("저장된 이미지 URL:", page.imageUrl); // 🔍 디버깅용

            const imgElement = document.getElementById("landingImage");
            imgElement.src = page.imageUrl;
            imgElement.onerror = function () {
                imgElement.src = "https://via.placeholder.com/300?text=이미지+로드+실패";
            };

            if (!page.nameCheck) document.getElementById("name").style.display = "none";
            if (!page.emailCheck) document.getElementById("email").style.display = "none";
            if (!page.phoneCheck) document.getElementById("phone").style.display = "none";
        } else {
            document.body.innerHTML = "<h1>존재하지 않는 랜딩페이지입니다.</h1>";
        }
    }

    window.onload = loadLandingPage;
</script>
